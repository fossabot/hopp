{"version":3,"sources":["../../src/streams/buffer.js"],"names":["buffers","data","next","push","body","done","Buffer","concat"],"mappings":";;;;;;AAMA;;;;;;kBAEe,MAAM;AACnB,QAAMA,UAAU,EAAhB;;AAEA,SAAO,yBAAI,CAACC,IAAD,EAAOC,IAAP,KAAgB;AACzB;AACAF,YAAQG,IAAR,CAAaF,KAAKG,IAAlB;;AAEA;AACA,QAAIH,KAAKI,IAAT,EAAe;AACb,aAAOH,KAAK,IAAL,EAAWI,OAAOC,MAAP,CAAcP,OAAd,CAAX,CAAP;AACD;;AAED;AACAE;AACD,GAXM,CAAP;AAYD,C,EAvBD","file":"buffer.js","sourcesContent":["/**\n * @file src/tasks/buffer.js\n * @license MIT\n * @copyright 2017 10244872 Canada Inc.\n */\n\nimport map from 'map-stream'\n\nexport default () => {\n  const buffers = []\n\n  return map((data, next) => {\n    // add to buffer\n    buffers.push(data.body)\n\n    // check for end\n    if (data.done) {\n      return next(null, Buffer.concat(buffers))\n    }\n\n    // otherwise drop from stream\n    next()\n  })\n}\n"]}