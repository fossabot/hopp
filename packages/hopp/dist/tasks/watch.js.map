{"version":3,"sources":["../../src/tasks/watch.js"],"names":["Goal","tasks","start","name","directory","process","env","SKIP_BUILD","Error","create","toJSON"],"mappings":";;;;;;AAMA;;IAAYA,I;;;;AAEZ;;;;kBAIeC,UAAU;AACvB;;;;;AAKAC,QAAOC,IAAP,EAAaC,SAAb,EAAwB;AACtB,QAAIC,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,MAA/B,EAAuC;AACrC,YAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;AACD;;AAED,WAAOR,KAAKS,MAAL,CAAYR,KAAZ,EAAmBG,SAAnB,EAA8B,OAA9B,CAAP;AACD,GAZsB;;AAcvB;;;;;;;AAOAM,WAAU;AACR,WAAO,CAAC,OAAD,EAAUT,KAAV,CAAP;AACD;AAvBsB,CAAV,C,EAZf","file":"../../src/tasks/watch.js","sourcesContent":["/**\n * @file src/plugins/watch.js\n * @license MIT\n * @copyright 2017 10244872 Canada Inc.\n */\n\nimport * as Goal from './goal'\n\n/**\n * Creates a Hopp-ish object that runs\n * subtasks in watch mode.\n */\nexport default tasks => ({\n  /**\n   * Starts all tasks in watch mode.\n   *\n   * @return {Promise} joins all watch promises under .all()\n   */\n  start (name, directory) {\n    if (process.env.SKIP_BUILD === 'true') {\n      throw new Error('Can\\'t skip builds on a watch task.')\n    }\n\n    return Goal.create(tasks, directory, 'watch')\n  },\n\n  /**\n   * Converts tasks to JSON.\n   * Just converts them into an array of\n   * JSON objects.\n   *\n   * @return {Array}\n   */\n  toJSON () {\n    return ['watch', tasks]\n  }\n})\n"]}