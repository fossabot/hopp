{"version":3,"sources":["else.js"],"names":["require","version","lock","lt","v","sc","Error"],"mappings":";;;;;;AAMA;;;;;;2cANA;;;;;;eAQoBA,QAAQ,oBAAR,C;IAAZC,O,YAAAA,O;;;uDAEO,iBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA,iBACT,iBAAOC,EAAP,CAAUD,KAAKE,CAAf,EAAkB,gBAAlB,CADS;AAAA;AAAA;AAAA;;AAEXF,iBAAKE,CAAL,GAASH,OAAT;;AAEA;AACA;AACA;AACA,mBAAOC,KAAKG,EAAZ;;AAPW,6CASJH,IATI;;AAAA;AAAA,iBAYT,iBAAOC,EAAP,CAAUD,KAAKE,CAAf,EAAkB,OAAlB,CAZS;AAAA;AAAA;AAAA;;AAaXF,iBAAKE,CAAL,GAASH,OAAT;AAbW,6CAcJC,IAdI;;AAAA;AAAA,kBAiBP,IAAII,KAAJ,CAAU,uEAAuEJ,KAAKE,CAAtF,CAjBO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","file":"else.js","sourcesContent":["/**\n * @file src/compat/else.js\n * @license MIT\n * @copyright 2017 10244872 Canada Inc.\n */\n\nimport semver from 'semver'\n\nconst { version } = require('../../package.json')\n\nexport default async lock => {\n  if (semver.lt(lock.v, '1.0.0-alpha.11')) {\n    lock.v = version\n\n    // below alpha 11, there are race conditions with\n    // the state cache - so discard it and let it be\n    // reconstructed\n    delete lock.sc\n\n    return lock\n  }\n\n  if (semver.lt(lock.v, '1.0.0')) {\n    lock.v = version\n    return lock\n  }\n\n  throw new Error('Sorry, this version of hopp does not support lockfiles from hopp v' + lock.v)\n}\n"]}