{"version":3,"sources":["../../src/tasks/watch.js"],"names":["Goal","start","name","directory","process","env","SKIP_BUILD","Error","create","tasks","toJSON"],"mappings":";;;;;;AAMA;;IAAYA,I;;;;AAEZ;;;;kBAIe;AAAA,SAAU;AACvB;;;;;AAKAC,SANuB,iBAMhBC,IANgB,EAMVC,SANU,EAMC;AACtB,UAAIC,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,MAA/B,EAAuC;AACrC,cAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;AACD;;AAED,aAAOP,KAAKQ,MAAL,CAAYC,KAAZ,EAAmBN,SAAnB,EAA8B,OAA9B,CAAP;AACD,KAZsB;;;AAcvB;;;;;;;AAOAO,UArBuB,oBAqBb;AACR,aAAO,CAAC,OAAD,EAAUD,KAAV,CAAP;AACD;AAvBsB,GAAV;AAAA,C,EAZf","file":"watch.js","sourcesContent":["/**\n * @file src/plugins/watch.js\n * @license MIT\n * @copyright 2017 10244872 Canada Inc.\n */\n\nimport * as Goal from './goal'\n\n/**\n * Creates a Hopp-ish object that runs\n * subtasks in watch mode.\n */\nexport default tasks => ({\n  /**\n   * Starts all tasks in watch mode.\n   *\n   * @return {Promise} joins all watch promises under .all()\n   */\n  start (name, directory) {\n    if (process.env.SKIP_BUILD === 'true') {\n      throw new Error('Can\\'t skip builds on a watch task.')\n    }\n\n    return Goal.create(tasks, directory, 'watch')\n  },\n\n  /**\n   * Converts tasks to JSON.\n   * Just converts them into an array of\n   * JSON objects.\n   *\n   * @return {Array}\n   */\n  toJSON () {\n    return ['watch', tasks]\n  }\n})\n"]}